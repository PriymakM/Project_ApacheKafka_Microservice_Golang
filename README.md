# Project ApacheKafka

## Описание
Проект представляет собой набор микросервисов на Go, которые взаимодействуют через Apache Kafka. Продюсер отправляет данные пользователей в Kafka, а консюмер обрабатывает эти данные и находит пользователя с максимальным возрастом.

## Содержание
- [Требования](#требования)
- [Установка](#установка)
- [Запуск](#запуск)
- [Использование](#использование)
- [Структура проекта](#структура-проекта)

## Требования
- [Go 1.20+](https://golang.org/doc/go1.20)
- [Docker](https://www.docker.com/)
- [Docker Compose](https://docs.docker.com/compose/)
- [VS Code](https://code.visualstudio.com/) (рекомендуется)

## Установка

1. **Установите необходимые Go зависимости:**

    В каждом микросервисе (продюсере и консюмере) выполните команду:

    ```bash
    go mod tidy
    ```

2. **Запустите Kafka и Zookeeper через Docker Compose:**

    Перейдите в корневую директорию проекта и выполните:

    ```bash
    docker-compose up -d
    ```

## Запуск

1. **Запуск продюсера:**

    Продюсер отправляет данные пользователей в Kafka.

    Перейдите в директорию `producer/cmd` и выполните команду:

    ```bash
    go run main.go
    ```

2. **Запуск консюмера:**

    Консюмер читает данные из Kafka и обрабатывает их.

    Перейдите в директорию `consumer/cmd` и выполните команду:

    ```bash
    go run main.go
    ```

## Использование

1. **Добавьте файл с пользователями:**

    Продюсер использует файл `users.json`, который должен содержать данные пользователей в следующем формате:

    ```json
    [
        {"Name": "John", "Age": 30},
        {"Name": "Jane", "Age": 25},
        {"Name": "Alice", "Age": 40}
    ]
    ```

2. **Отправка данных в Kafka:**

    Продюсер отправляет данные пользователей в топик `user_topic`.

3. **Обработка данных:**

    Консюмер обрабатывает данные из топика `user_topic`, находит пользователя с максимальным возрастом и выводит его.

## Структура проекта

- **/microservice/producer** - Микросервис продюсера, который отправляет данные в Kafka.
  - `/cmd` - Точка входа в приложение продюсера.
  - `/service` - Логика продюсера.
  - `/entity` - Структуры данных, используемые в продюсере.
- **/microservice/consumer** - Микросервис консюмера, который обрабатывает данные из Kafka.
  - `/cmd` - Точка входа в приложение консюмера.
  - `/service` - Логика консюмера.
  - `/entity` - Структуры данных, используемые в консюмере.
- **/docker-compose.yml** - Файл для запуска Kafka и Zookeeper через Docker Compose.
- **/users.json** - Пример файла с данными пользователей.

## Завершение работы

Для завершения работы микросервисов просто остановите их выполнение в терминале, а для остановки Kafka выполните команду:

```bash
docker-compose down
